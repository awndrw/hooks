{"version":3,"file":"index.modern.js","sources":["../src/useIsomorphicLayoutEffect.ts","../src/useEvent.ts","../src/useEventListener.ts","../src/useDocumentEventListener.ts","../src/useWindowEventListener.ts"],"sourcesContent":["import React from 'react';\n\nexport const useIsomorphicLayoutEffect =\n    typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n","import React from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n\ntype Callback = (...args: any[]) => any;\n\nexport const useEvent = <C extends Callback>(callback: C): C => {\n    const callbackRef = React.useRef(callback);\n    useIsomorphicLayoutEffect(() => {\n        callbackRef.current = callback;\n    });\n    return React.useMemo(() => callbackRef.current, []);\n};\n","import React from 'react';\nimport { useEvent } from './useEvent';\nimport { EventName, EventListener } from './events';\n\nexport const useEventListener = <\n    K extends EventName<HTMLElementEventMap>,\n    E extends HTMLElement\n>(\n    eventName: K,\n    listener: EventListener<HTMLElementEventMap, K>,\n    element: React.RefObject<E>\n) => {\n    const stableListener = useEvent(listener);\n    React.useEffect(() => {\n        const node = element.current;\n        if (!node || !node.addEventListener) {\n            return;\n        }\n        node.addEventListener(eventName, stableListener);\n        return () => node.addEventListener(eventName, stableListener);\n    }, [element, eventName, stableListener]);\n};\n","import React from 'react';\nimport { useEvent } from './useEvent';\nimport { EventName, EventListener } from './events';\n\nexport const useDocumentEventListener = <K extends EventName<DocumentEventMap>>(\n    eventName: K,\n    listener: EventListener<DocumentEventMap, K>\n) => {\n    const stableListener = useEvent(listener);\n    React.useEffect(() => {\n        if (!document || !document.addEventListener) {\n            return;\n        }\n        document.addEventListener(eventName, stableListener);\n        return () => document.addEventListener(eventName, stableListener);\n    }, [eventName, stableListener]);\n};\n","import React from 'react';\nimport { useEvent } from './useEvent';\nimport { EventName, EventListener } from './events';\n\nexport const useWindowEventListener = <K extends EventName<WindowEventMap>>(\n    eventName: K,\n    listener: EventListener<WindowEventMap, K>\n) => {\n    const stableListener = useEvent(listener);\n    React.useEffect(() => {\n        if (!window || !window.addEventListener) {\n            return;\n        }\n        window.addEventListener(eventName, stableListener);\n        return () => window.addEventListener(eventName, stableListener);\n    }, [eventName, stableListener]);\n};\n"],"names":["useIsomorphicLayoutEffect","window","React","useLayoutEffect","useEffect","useEvent","callback","callbackRef","useRef","current","useMemo","useEventListener","eventName","listener","element","stableListener","node","addEventListener","useDocumentEventListener","document","useWindowEventListener"],"mappings":"qBAEaA,MAAAA,EACS,oBAAXC,OAAyBC,EAAMC,gBAAkBD,EAAME,UCErDC,EAAgCC,IACzC,MAAMC,EAAcL,EAAMM,OAAOF,GAIjC,OAHAN,EAA0B,KACtBO,EAAYE,QAAUH,IAEnBJ,EAAMQ,QAAQ,IAAMH,EAAYE,QAAS,KCNvCE,EAAmB,CAI5BC,EACAC,EACAC,KAEA,MAAMC,EAAiBV,EAASQ,GAChCX,EAAME,UAAU,KACZ,MAAMY,EAAOF,EAAQL,QACrB,GAAKO,GAASA,EAAKC,iBAInB,OADAD,EAAKC,iBAAiBL,EAAWG,GAC1B,IAAMC,EAAKC,iBAAiBL,EAAWG,IAC/C,CAACD,EAASF,EAAWG,KChBfG,EAA2B,CACpCN,EACAC,KAEA,MAAME,EAAiBV,EAASQ,GAChCX,EAAME,UAAU,KACZ,GAAKe,UAAaA,SAASF,iBAI3B,OADAE,SAASF,iBAAiBL,EAAWG,GAC9B,IAAMI,SAASF,iBAAiBL,EAAWG,IACnD,CAACH,EAAWG,KCXNK,EAAyB,CAClCR,EACAC,KAEA,MAAME,EAAiBV,EAASQ,GAChCX,EAAME,UAAU,KACZ,GAAKH,QAAWA,OAAOgB,iBAIvB,OADAhB,OAAOgB,iBAAiBL,EAAWG,GAC5B,IAAMd,OAAOgB,iBAAiBL,EAAWG,IACjD,CAACH,EAAWG"}